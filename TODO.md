# EasyChair todo at 2016/03
### 会场数据类的问题

1. 文件系统的导入功能仍然是没法用，但是我想要不要抛弃掉现在的架构彻底重写新的文件类，主要修改在文件的正文部分，可以考虑换成 RichText 格式，也可以自己写一个专门的文件正文的类，不过如果专门写的话就可能需要新的文件编辑器程序，但是模联会场文件的格式应该都有据可循，实现起来应该没有太大问题。

2. Record 命名空间里有一个 Speech 类，但是从没有用过。计划在 RecordCollection 的实例中实现一个 List<Speech>，在单条记录中保存一个或多个 Speech 的 Index（int 类型）对应代表的发言。Comments 类同理，是保存主席对每条发言的评价的位置，是个选填项。这样可以实现代表的发言信息。

3. 目前使用XML技术保存会议数据和记录。但是在改进的架构中我添加了 [Serializable] 的选项，这样可以用 serialize 将所有会议的信息以 binary 的形式全部存储成一个大文件。Serialize 是我们上学期学的，但是因为不考没好好学，就一直没再改。如果用 serialize 的话就可以不要 XML 那部分的代码了。我希望会议信息是能实时保存的，但是我不太知道如果用 serialize 会不会拖慢程序的运行速度。

[程序本体的问题]

4. 新建会议功能由于涉及到和在线系统的联动问题，前期先不做。打开会议和最近会议如果使用 serialize 架构，则需要重写目前基于 XML 的加载会议的功能。如果可能的话，我们或许可以直接通过在线系统生成完整的会议数据文件（而不是仅有报名信息的 CSV 列表）。

5. 需要新增一个会场属性的对话框，在会议(C)―会场属性(P) 调用。与目前新建会议的对话框相似，但去掉更改国家的部分。另外，去掉在详细国家信息窗口修改出席情况的功能。

6. 投票功能，在加载投票窗口时，过一遍所有的国家，如果有国家设置了否决权，则自动选中“启用否决权”复选框（目前的判定机制是判断会场是否为安理会）。在点名流程时如果某国家（Nation 类）的Competence（投票权）为零，应自动跳过该国家。如果为非友好修正案投票，则投票列表只加载修正案的起草国。投票完成后返回显示国家出席数和多数存在未知问题，无法正确显示出席国家数。

7. 程序本体还有诸多功能尚未实现，等到重写初步完成之后再添加吧。

[投屏的问题]

8. 投屏的实质是一个 WPF 的用户控件。一个完整的控件包括构造函数、属性、方法和事件，但事件部分由于我编程水平不足并没有实现。因此希望在投屏中根据需要加入一些事件以便于更好服务于程序主体。

9. 彻底解决投屏再开内容丢失问题的办法是新建一个虚拟投屏的类，并将他的实例放在主窗体，在主窗体的操作先改变虚拟投屏的内容，实际投屏再进行同步。但是这样做工作量太大，因此我希望在重写时一并修复。

10. 投屏的倒计时过程中，剩余时间较少时时间应采用艳丽颜色突出显示，但实际并未实现。

11. 投屏的会场提示目前只有在投票过程中有所实现。我计划为会场提示制作一个新的类，在使用时以不同的参数调用该类以在各种环境下显示需要的会场提示。具体的提示内容我过些天草拟一份再单独发送。

[其他]

12. 本程序使用了 WeifenLuo 的 DockPanelSuite 开源库以实现自定义功能窗口位置的功能。我希望重写程序的过程不会对该库的兼容性有太大的影响。链接：https://github.com/dockpanelsuite/dockpanelsuite。

13. 自动更新如果有服务器支持就可以正常使用，但如果 catch 到 expection 的话会拖慢程序的启动速度。而且不知道为什么更新窗口是默认最小化的。如果可能的话这块最好也重新做一下。

14. 目前想上来的 issue 就是这些，如果对代码或程序有其他的问题的话就随时问我。